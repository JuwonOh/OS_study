- **Some Variation of R-W problem**
    - 모든 variation은 우선순위와 연결되어 있음.
    - **first R-W problem**
        - 어떤 reader도 writer가 wait한다고 해도, 다른 reader들의 작업이 끝날 때까지 기다리지 않아도 된다. → **reader와 writer가 공평한 권한을 가지게 함. lock을 획득하면 access하도록 함.**
            - 하지만 **writer에서 starvation이 일어나면 문제가 생김.**
    - **second R-W problem**
        - writer가 access를 할 때까지 기다리면 **writer한테 무조건 우선순위를 줘서 새로운 reader들은 진입을 못하게 한다. → 보다 강력, 복잡한 방법.**
    - 두 가지 문제 **모두 starvation이 주요한 문제가 됨.**
        - writer들이 많으면, read가 느려지고 responsive가 너무 느려짐.
        - 실질적으로는 **상황에 따라서 매우 복잡한 해결책이 필요함.** ex) writer/reader의 수나 부하
    - 추가적인 참고자료:
    
    [[운영체제] 동기화 관련 여러 문제(The Bounded-Buffer Problem, The Reader-Writer Problem)](https://wookkingkim.tistory.com/entry/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EB%8F%99%EA%B8%B0%ED%99%94-%EA%B4%80%EB%A0%A8-%EC%97%AC%EB%9F%AC-%EB%AC%B8%EC%A0%9CThe-Bounded-Buffer-Problem-The-Reader-Writer-Problem#recentComments)
    
- Solution of  R-W problem
    - **writer 1명은 critical section에 들어갈 수 있음.**
    - **reader n명이 waiting하고 있음. 한명이 r_w mutex에서, n-1개는 mutex에 대기하고 있음.**
- **Reader-Writer Locks**
    - Readers-writer problem에 대한 솔루션은 reader-writer lock
    - reader writer lock을 획득하기 위해서는 **reader mode냐 writer 모드냐를 지정.**
    - **multiple process가 read mode에서 reader-writer lock을 획득하면, read mode에서 여러개가 진입하는 게 가능.**
    - **writer lock을 획득하면 한 개의 process만 획득하는게 가능. 1개의 writer를 해결하는게 가능.**

- **Dinning Philosophers Problem**
    - 철학자 5명에 5개의 젓가락만 있고, 국수를 먹어야 함.
    - **동시에 젓가락을 잡으려 할 때 어떤 문제가 생길까?**
    - **젓가락(공유자원), 철학자(프로세스): 동시에 잡으면 mutual exclusion이 생김.**
- Semaphore Solution
    - 해결 방법: **젓가락을 잡는 행위에 mutual exclusion을 만듦**. 동시에 젓가락을 잡는 일이 생기지 않음. → 이런 문제점을 공유할 때 several resource에 대해서 several process를 공유할 때, **상호배제를 가지고 critical section에 문제를 해결**
    - 하지만 mutual exclusion을 사용해서 문제를 해결하려고 해도, **starvation이나 deadlock이 발생.**
    
- **The problem of deadlock and starvation**
    - 만일 5명의 **철학자가 동시에 배가 고프고, 왼쪽 젓가락을 잡으려고 하고, 오른쪽 젓가락을 잡으려고 하는 상황 → deadlock 상황**
    - deadlock 문제를 해결하는 방법
        - 철학자의 숫자를 5명이 아니라 4명으로 제한하는 방법. **1자리를 비어두면 항상 문제가 해결 가능. → 숫자를 제한하기 어려운 경우가 많음.**
        - **Asymmetric solution**
            - 홀수 번인 철학자는 먼저 오른쪽을 잡고, 오른쪽을 집게 한다.
            - 짝수 번인 철학자는 오른쪽을 먼저 잡고, 왼쪽을 잡게 함.
            - **둘 중의 하나는 문제를 풀 수 있음. → 기다리면 문제가 풀림.**
    - deadlock free한 방법은 가능한데, starvation free는 불가능함. deadlock을 완전히 방지하는 것은 어려움.
- monitor solution
    - Semaphore를 통해서 해결하기는 어려움.
    - **양쪽의 젓가락이 가용 할 경우만 젓가락을 사용할 수 있도록 함.**
    - 상태를 3가지로 나눔.
        - **thinking/hungry/eating. 젓가락에 대한 wait한 notify, signal을 모니터로 구현할 수 있음.**
        - 좌우의 철학자가 eating하지 않을때 eating함.
    - **condition variable 설정**
        - hungry할때, wait하는 도구로 사용하고 끝나면 notify를 한다.
    - **pickup이 성공해야 eating 시작. 또한 끝나면 putdown을 호출하는 방식으로 해결.**
    - **하지만 starvation문제를 해결할 수는 없다.**
        - 지속적으로 사람이 먹으면, 어떤 한 명은 오랫동안 process가 해결되지 못함.